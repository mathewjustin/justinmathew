<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Remove more than two duplicates in-place | Department of random technical stuffs</title>
<meta name="keywords" content="">
<meta name="description" content="This is a medium level problem. I think it should be easy. But anyway, lets get to the code.">
<meta name="author" content="">
<link rel="canonical" href="https://justinmathew.com/posts/removeduplicates/">
<link crossorigin="anonymous" href="https://justinmathew.com/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://justinmathew.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://justinmathew.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://justinmathew.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://justinmathew.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://justinmathew.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://justinmathew.com/posts/removeduplicates/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://justinmathew.com/posts/removeduplicates/">
  <meta property="og:site_name" content="Department of random technical stuffs">
  <meta property="og:title" content="Remove more than two duplicates in-place">
  <meta property="og:description" content="This is a medium level problem. I think it should be easy. But anyway, lets get to the code.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-06-09T23:04:00+05:30">
    <meta property="article:modified_time" content="2025-06-09T23:04:00+05:30">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Remove more than two duplicates in-place">
<meta name="twitter:description" content="This is a medium level problem. I think it should be easy. But anyway, lets get to the code.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://justinmathew.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Remove more than two duplicates in-place",
      "item": "https://justinmathew.com/posts/removeduplicates/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Remove more than two duplicates in-place",
  "name": "Remove more than two duplicates in-place",
  "description": "This is a medium level problem. I think it should be easy. But anyway, lets get to the code.",
  "keywords": [
    
  ],
  "articleBody": "Problem Given an integer array nums sorted in non-decreasing order, remove some duplicates in-place such that each unique element appears at most twice. The relative order of the elements should be kept the same.\nSince it is impossible to change the length of the array in some languages, you must instead have the result be placed in the first part of the array nums. More formally, if there are k elements after removing the duplicates, then the first k elements of nums should hold the final result. It does not matter what you leave beyond the first k elements.\nReturn k after placing the final result in the first k slots of nums.\nDo not allocate extra space for another array. You must do this by modifying the input array in-place with O(1) extra memory.\nCustom Judge:\nThe judge will test your solution with the following code:\nint[] nums = […]; // Input array int[] expectedNums = […]; // The expected answer with correct length\nint k = removeDuplicates(nums); // Calls your implementation\nassert k == expectedNums.length; for (int i = 0; i \u003c k; i++) { assert nums[i] == expectedNums[i]; } If all assertions pass, then your solution will be accepted.\nSo if we look at this problem its almost same as the in place element removal. Almost all the logic is same. The only difference is that we need to keep track of the number of duplicates and remove them accordingly.\nRefer: https://justinmathew.com/posts/inplace-element-removal/\nI don’t understand why this is a medium level problem. I think it should be easy. But anyway, lets get to the code.\nExamples Example 1: Input: nums = [1,1,1,2,2,3] Output: 5, nums = [1,1,2,2,3,_] Explanation: Your function should return k = 5, with the first five elements of nums being 1, 1, 2, 2 and 3 respectively. It does not matter what you leave beyond the returned k (hence they are underscores). Example 2: Input: nums = [0,0,1,1,1,1,2,3,3] Output: 7, nums = [0,0,1,1,2,3,3,_,_] Explanation: Your function should return k = 7, with the first seven elements of nums being 0, 0, 1, 1, 2, 3 and 3 respectively. It does not matter what you leave beyond the returned k (hence they are underscores). Now this is almost the same sh**.\nI am taking the same code copy pasting from our old one. Use a read and write pointer.\npublic int removeElement(int[] nums, int val) { int w=0; for(int r=0;r \u003c nums.length;r++) { if(nums[r]!=val){ nums[w]=nums[r]; w++; } } return w; } Here read pointer will move through the array and write pointer will write the elements which are not equal to val. We also need to keep track of the number of duplicates, and essentially do the same thing with only difference that we will not write the element if it is already written twice.\npublic int removeElement(int[] nums, int val) { int w=0; for(int r=0;r \u003c nums.length;r++) { if (w \u003c 2 || nums[r] != nums[w - 2]) { nums[w] = nums[r]; w++; } } return w; } The logic of this problem is simple. At every location check if the value on that location is same as 2 elements before it. If its not same, then write it there. If it is same, then skip it.\nThis is the best solution I could come up with. The only reason I thought of this solution is because I have alread solved the in place element removal problem.\n",
  "wordCount" : "573",
  "inLanguage": "en",
  "datePublished": "2025-06-09T23:04:00+05:30",
  "dateModified": "2025-06-09T23:04:00+05:30",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://justinmathew.com/posts/removeduplicates/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Department of random technical stuffs",
    "logo": {
      "@type": "ImageObject",
      "url": "https://justinmathew.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://justinmathew.com/" accesskey="h" title="Department of random technical stuffs (Alt + H)">Department of random technical stuffs</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://justinmathew.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Remove more than two duplicates in-place
    </h1>
    <div class="post-description">
      This is a medium level problem. I think it should be easy. But anyway, lets get to the code.
    </div>
    <div class="post-meta"><span title='2025-06-09 23:04:00 +0530 IST'>June 9, 2025</span>

</div>
  </header> 
  <div class="post-content"><h1 id="problem">Problem<a hidden class="anchor" aria-hidden="true" href="#problem">#</a></h1>
<p>Given an integer array nums sorted in non-decreasing order, remove some duplicates in-place such that each unique element appears at most twice. The relative order of the elements should be kept the same.</p>
<p>Since it is impossible to change the length of the array in some languages, you must instead have the result be placed in the first part of the array nums. More formally, if there are k elements after removing the duplicates, then the first k elements of nums should hold the final result. It does not matter what you leave beyond the first k elements.</p>
<p>Return k after placing the final result in the first k slots of nums.</p>
<p>Do not allocate extra space for another array. You must do this by modifying the input array in-place with O(1) extra memory.</p>
<p>Custom Judge:</p>
<p>The judge will test your solution with the following code:</p>
<p>int[] nums = [&hellip;]; // Input array
int[] expectedNums = [&hellip;]; // The expected answer with correct length</p>
<p>int k = removeDuplicates(nums); // Calls your implementation</p>
<p>assert k == expectedNums.length;
for (int i = 0; i &lt; k; i++) {
assert nums[i] == expectedNums[i];
}
If all assertions pass, then your solution will be accepted.</p>
<p>So if we look at this problem its almost same as the in place element removal. Almost all the logic is same. The only difference is that we need to keep track of the number of duplicates and remove them accordingly.</p>
<p>Refer: <a href="https://justinmathew.com/posts/inplace-element-removal/">https://justinmathew.com/posts/inplace-element-removal/</a></p>
<p>I don&rsquo;t understand why this is a medium level problem. I think it should be easy. But anyway, lets get to the code.</p>
<h3 id="examples">Examples<a hidden class="anchor" aria-hidden="true" href="#examples">#</a></h3>
<pre tabindex="0"><code>Example 1:

Input: nums = [1,1,1,2,2,3]
Output: 5, nums = [1,1,2,2,3,_]
Explanation: Your function should return k = 5, with the first five elements of nums being 1, 1, 2, 2 and 3 respectively.
It does not matter what you leave beyond the returned k (hence they are underscores).

Example 2:

Input: nums = [0,0,1,1,1,1,2,3,3]
Output: 7, nums = [0,0,1,1,2,3,3,_,_]
Explanation: Your function should return k = 7, with the first seven elements of nums being 0, 0, 1, 1, 2, 3 and 3 respectively.
It does not matter what you leave beyond the returned k (hence they are underscores).
</code></pre><p>Now this is almost the same sh**.</p>
<p>I am taking the same code copy pasting from our old one. Use a read and write pointer.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">removeElement</span>(<span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> nums, <span style="color:#66d9ef">int</span> val) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> w<span style="color:#f92672">=</span>0;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> r<span style="color:#f92672">=</span>0;r <span style="color:#f92672">&lt;</span> nums.<span style="color:#a6e22e">length</span>;r<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(nums<span style="color:#f92672">[</span>r<span style="color:#f92672">]!=</span>val){
</span></span><span style="display:flex;"><span>                nums<span style="color:#f92672">[</span>w<span style="color:#f92672">]=</span>nums<span style="color:#f92672">[</span>r<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>                w<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> w;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Here read pointer will move through the array and write pointer will write the elements which are not equal to val. We also need to keep track of the number of duplicates, and essentially do the same thing with only difference that we will not write the element if it is already written twice.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">removeElement</span>(<span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> nums, <span style="color:#66d9ef">int</span> val) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> w<span style="color:#f92672">=</span>0;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> r<span style="color:#f92672">=</span>0;r <span style="color:#f92672">&lt;</span> nums.<span style="color:#a6e22e">length</span>;r<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (w <span style="color:#f92672">&lt;</span> 2 <span style="color:#f92672">||</span> nums<span style="color:#f92672">[</span>r<span style="color:#f92672">]</span> <span style="color:#f92672">!=</span> nums<span style="color:#f92672">[</span>w <span style="color:#f92672">-</span> 2<span style="color:#f92672">]</span>) {
</span></span><span style="display:flex;"><span>                nums<span style="color:#f92672">[</span>w<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> nums<span style="color:#f92672">[</span>r<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>                w<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> w;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The logic of this problem is simple. At every location check if the value on that location is same as 2 elements before it. If its not same, then write it there. If it is same, then skip it.</p>
<p>This is the best solution I could come up with. The only reason I thought of this solution is because I have alread solved the in place element removal problem.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer><script src="https://giscus.app/client.js"
        data-repo="mathewjustin/justinmathew"
        data-repo-id="R_kgDOOVcB9A"
        data-category="General"
        data-category-id="DIC_kwDOOVcB9M4Co3QS"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://justinmathew.com/">Department of random technical stuffs</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
